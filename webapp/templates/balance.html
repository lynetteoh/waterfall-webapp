{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Waterfall</title>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
{% endblock %}

{% block content %}

<div class="container bootstrap snippet">
  <div class="row">
      <div class="col-sm-10">
        <h1>Balance Management &nbsp;&nbsp;</h1>
        <p style="padding-top:15px; font-size:20px;">Current Balance </p>
        <p style="padding-left:10%; color:grey; font-size: 40px; text-align:center;">$380.50</p>
      </div>
        <!-- buttons -->
      <div class="col-sm-10" style="min-width:200px; padding-left:10%;">
        <div class="row">
          <div style="min-width:50%; display:inline;">
            <input type="text" class="text-center form-control" name="add_amount" id="add_amount" placeholder="0.00" style="width:80px;">
            <p style="font-size:0.1px;"><br></p>
            <div style="padding-left:5%;">
              <button class="btn btn-lg btn-success text-center" type="submit" value="Add" onclick="popup(0.00, false)" style="font-size:17px; border-radius:50%; float:left;">
                <i class="fas fa-plus"></i>
              </button>
            </div>
          </div>

          <div style="display:inline; min-width:50%; padding-left:36%; float:right;">
            <input type="text" class="text-center form-control" name="minus_amount" id="minus_amount" placeholder="0.00" style="width: 80px;">
            <p style="font-size:0.1px;"><br></p>
            <div style="padding-right:25%">
              <button class="btn btn-lg btn-danger" type="submit" value="Withdraw" onclick="popup(0.00, true)" style="font-size:17px; border-radius:50%; float:right;">
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <br><br>
  <div class="row">
    <div class="col-sm-10" style="min-width:230px; padding-left:10%;"><!-- list -->
      <ul class="list-group">
      <li class="list-group-item"><strong>Activity</strong><i class="fa fa-dashboard fa-1x"></i></li>
      <li class="list-group-item text-right text-muted" style="text-align:left;"><span style="float:left;">Payments$</span> 125</li>
      <li class="list-group-item text-right text-muted"><span style="float:left;">Requests$</span> 13</li>
      <li class="list-group-item text-right text-muted"><span style="float:left;">Groups$</span> 37</li>
      </ul>

    </div>
  </div>
</div>

<script type="text/javascript">
function popup(amount, isWithdraw){
  var text = "";
  if (isWithdraw && onlyNumbers(amount)) {
    text = "Withdrawing $" + amount + "?";
  } else {
    text = "Depositing $" + amount + "?";
  }
  swal({
    title: text,
    text:  "Once processed, this action cannot be undone.",
    icon:  "warning",
    buttons: true,
  }).then((confirmed) => {
    if (confirmed) {
      swal({
        title: "Success!",
        text:  "The transaction has been processed.",
        icon:  "success",
      });
    }
  });
}

function onlyNumbers(txt) {
  if (isNaN(txt) || parseFloat(txt) < 0) {
    swal({
      title: "Invalid Amount",
      text:  "Please only input positive numeric amounts.",
      icon:  "warning",
    });
    return false;
  }
  return true;
}

function editProfile() {
  if (confirm("helo")) {
    enableProfileForm()
  } else {
    disableProfileForm()
  }
}

function disableProfileForm() {
  // Disable all the edit profile form.
  var form = document.forms["edit-form"].getElementsByTagName('input');
  for (var i = 0; i < form.length; ++i) {
    form[i].setAttribute('readonly', true);
  }
  // Disable profile settings edit.
  document.getElementById("upload-pic").style.display = "none"
  document.getElementById("change-settings").style.display = "none"
}

function enableProfileForm() {
  // Enable form editing of existing profile data.
  var form = document.forms["edit-form"].getElementsByTagName('input');
  for (var i = 0; i < form.length; ++i) {
    form[i].removeAttribute('readonly');
  }
  // Enable profile settings editds.
  document.getElementById("upload-pic").style.display = "block"
  document.getElementById("change-settings").style.display = "block"
}
</script>
{% endblock %}
