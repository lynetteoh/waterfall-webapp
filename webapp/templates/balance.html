{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Waterfall</title>
<!-- <script src="alert/dist/sweetalert.min.js"></script> -->
<!-- <link rel="stylesheet" href="alert/dist/sweetalert.css"> -->
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
{% endblock %}

{% block content %}

<div class="container bootstrap snippet">
    <div class="row profile">
  		<div class="col-sm-10">
        <h1>Balance Management &nbsp;&nbsp;
          <button class="btn" type="button" value="Edit" onclick="popup()" style="font-size:20px;">
            <i class="fas fa-edit"></i>&nbsp;Edit
          </button>
        </h1>
      </div>
    </div>
    </br>
    <div class="row">
  		<div class="col-sm-3" style="min-width:230px;"><!--left col-->

      <div class="text-center">
        <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" class="avatar img-circle img-thumbnail" alt="avatar">
      </br></br>
        <h4>@username$</h4>
        </br>
        <div id="upload-pic" style="display:none;">
          <h6>Upload New Profile Picture</h6>
          <input type="file" class="file-upload">
          </hr></br></br>
        </div>
      </div>

      <ul class="list-group">
        <li class="list-group-item"><strong>Activity</strong><i class="fa fa-dashboard fa-1x"></i></li>
        <li class="list-group-item text-right text-muted" style="text-align:left;"><span style="float:left;">Payments$</span> 125</li>
        <li class="list-group-item text-right text-muted"><span style="float:left;">Requests$</span> 13</li>
        <li class="list-group-item text-right text-muted"><span style="float:left;">Groups$</span> 37</li>
      </ul>


      </div><!--/col-3-->
    	<div class="col-sm-9" style="padding-left:40px;">
          <form class="form" id="edit-form" action="##" method="post" id="editProfile">
              <div class="form-group">
                  <div class="col-xs-6">
                      <label for="first_name">
                        <h5>First name</h5></label>
                      <input type="text" class="form-control" name="first_name" id="first_name" readonly value="name$read" placeholder="NAME$">
                  </div>
              </div>
              <div class="form-group">
                  <div class="col-xs-6">
                    <label for="last_name"><h4>Last name</h4></label>
                      <input type="text" class="form-control" name="last_name" id="last_name" readonly value="lname$read" placeholder="SURNAME$">
                  </div>
              </div>
              <div class="form-group">
                  <div class="col-xs-6">
                    <label for="email"><h5>Email</h5></label>
                      <input type="text" class="form-control" name="email" id="email" readonly value="email$read" placeholder="EMAIL$">
                  </div>
              </div>
              <div id="change-settings" style="display:none;"> <!-- start of change settings -->
                <div class="form-group">
                    <div class="col-xs-6">
                      <label for="password"><h5>Change Password</h5></label>
                        <input type="new-password" class="form-control" name="password" id="password" placeholder="New Password">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-6">
                      <label for="password2"><h5>Verify New Password</h5></label>
                        <input type="new-password" class="form-control" name="password2" id="password2" placeholder="Confirm New Password" title="enter your password2.">
                    </div>
                </div>
                <div class="form-group">
                     <div class="col-xs-12 text-left">
                          <br>
                        	<button class="btn btn-lg btn-success" type="submit"><i class="fas fa-check"></i> &nbsp;Save</button>
                          &nbsp; &nbsp;
                         	<button class="btn btn-lg btn-danger" type="reset" onclick="disableProfileForm()"><i class="fas fa-ban" ></i>&nbsp;Cancel</button>
                      </div>
                </div>
              </div> <!-- end of change-settings -->
      	</form>

      </div> <!-- col-sm-9 -->

    </div><!--/row-->


<script type="text/javascript">
function popup(){
	swal({
    title: "Are you sure?",
    text:  "Once processed, this action cannot be undone.",
    icon:  "warning",
    buttons: true,
  }).then((confirmed) => {
    if (confirmed) {
      swal({
        title: "Success!",
        text:  "The transaction has been processed.",
        icon:  "success",
      });
    }
  });
}
</script>
<script>
  function editProfile() {
    if (confirm("helo")) {
      enableProfileForm()
    } else {
      disableProfileForm()
    }
  }

  function disableProfileForm() {
    // Disable all the edit profile form.
    var form = document.forms["edit-form"].getElementsByTagName('input');
    for (var i = 0; i < form.length; ++i) {
      form[i].setAttribute('readonly', true);
    }
    // Disable profile settings edit.
    document.getElementById("upload-pic").style.display = "none"
    document.getElementById("change-settings").style.display = "none"
  }

  function enableProfileForm() {
    // Enable form editing of existing profile data.
    var form = document.forms["edit-form"].getElementsByTagName('input');
    for (var i = 0; i < form.length; ++i) {
      form[i].removeAttribute('readonly');
    }
    // Enable profile settings editds.
    document.getElementById("upload-pic").style.display = "block"
    document.getElementById("change-settings").style.display = "block"
  }
</script>

{% endblock %}
