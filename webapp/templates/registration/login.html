{% extends 'home-base.html' %}
{% load static %}

{% block title %}
<title>Waterfall</title>
{% endblock %}

{% block css %}
<link href="{% static "css/login.css" %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}

<div class="login_back">
    <div class="padding_top1 container main_landing">
        <center>
            <div class="col-md-5 login_back1">
                <form method="post" action="{% url 'login' %}" class="register_form">        
                    {% csrf_token %}
                    <div class="form-group row">
                        <div class="col-sm-12">
                          <p class="display-6 form-control-static login_title">LOGIN</p>
                        </div>
                    </div>
                    {% if form.errors %}
                        <p style="color: red">Your username and password didn't match.<br>Please try again.</p>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <p>You are currently logged in.<br>You will be redirected to a homepage.</p>
                        <script>
                        setTimeout(function() {
                        window.location.href = "{% url 'dashboard' %}";
                        }, 3000);
                        </script>
                    {% endif %}
                    
                    <hr style="colour:white; background-color:white;"/>

                    <div class="form-group row">
                        <div class="col-12">
                            <input class="form-control" type="text" placeholder="Username" id="username" required="" name="username" autofocus="">
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-sm-12">
                            <input type="password" class="form-control" placeholder="Password" name="password" required="" id="password">    
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-12">
                            <button type="submit" value="login" id="login_btn" style="width: 100%;" class="btn btn-outline-success">Sign In</button>
                        </div>
                    </div>
                    <input type="hidden" name="next" value="{{ next }}">

                </form>
            </div>
        </center>
        <br/><br/><br/><br/><br/>
    </div>
</div>

{% endblock %}
